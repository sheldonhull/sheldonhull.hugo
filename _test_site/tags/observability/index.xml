<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0" xmlns:dc='http://purl.org/dc/elements/1.1/'>
    <channel>
        <title>Observability - Tag - sheldonhull.com</title>
        <link>https://www.sheldonhull.com/tags/observability/</link>
        <description>Observability - Tag - sheldonhull.com</description>
        <generator>Hugo -- gohugo.io</generator><language>en</language><copyright>This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.</copyright><lastBuildDate>Thu, 13 Jul 2023 00:00:00 &#43;0000</lastBuildDate><atom:link href="https://www.sheldonhull.com/tags/observability/" rel="self" type="application/rss+xml" />

<item>
    <title>
        observability
    </title>
    <link>
        https://www.sheldonhull.com/notes/development/observability/observability/
    </link>
    <pubDate>
        Thu, 13 Jul 2023 00:00:00 &#43;0000
    </pubDate>
    
    
    <guid>
        https://www.sheldonhull.com/notes/development/observability/observability/
    </guid>
    <description>
        <![CDATA[
        
        
        
            
        
        <h2 id="datadog" class="headerLink">
    <a href="#datadog" class="header-mark"></a>Datadog</h2><h3 id="evaluate-impact-on-pricing-based-on-contributors-in-a-repository" class="headerLink">
    <a href="#evaluate-impact-on-pricing-based-on-contributors-in-a-repository" class="header-mark"></a>Evaluate Impact on Pricing Based On Contributors in a Repository</h3><p>Some pricing models reflect based on the number of active contributors in a repository.
For example, the CI/Pipeline integration is based on a model of active contributors.</p>
<p>This snippet will assess unique contributors in the repo and based on a rough <a href="https://www.datadoghq.com/pricing/?product=ci-visibility#products" target="_blank" rel="noopener noreferrer">On-Demand pricing</a> you can find on the website, it will approximate the impact of enabling this feature directly against this repository.</p>
<div
    class="details admonition example"
  >
    <div class="details-summary admonition-title">
      <i
        class="icon fas fa-list-ol fa-fw"
      ></i>
      Figuring Out Pricing Based On Contributors in Git
      <i class="details-icon fas fa-angle-right fa-fw"></i>
    </div>
    <div class="details-content">
      <div class="admonition-content"><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-powershell" data-lang="powershell"><span class="line"><span class="cl">    <span class="nv">$DatadogPerContributorPricing</span> <span class="p">=</span> <span class="mf">8</span> <span class="c"># Get from Datadog pricing site</span>
</span></span><span class="line"><span class="cl">    <span class="nv">$LookBack</span> <span class="p">=</span> <span class="mf">-6</span>
</span></span><span class="line"><span class="cl">    <span class="nv">$month</span> <span class="p">=</span> <span class="nb">Get-Date</span> <span class="n">-Format</span> <span class="s1">&#39;MM&#39;</span>
</span></span><span class="line"><span class="cl">    <span class="nv">$year</span> <span class="p">=</span> <span class="nb">Get-Date</span> <span class="n">-Format</span> <span class="s1">&#39;yyyy&#39;</span>
</span></span><span class="line"><span class="cl">    <span class="nv">$since</span> <span class="p">=</span> <span class="s2">&#34;</span><span class="p">$((</span><span class="nb">Get-Date</span> <span class="n">-Day</span> <span class="mf">1</span> <span class="n">-Month</span> <span class="nv">$month</span> <span class="n">-Year</span> <span class="nv">$year</span><span class="p">).</span><span class="py">AddMonths</span><span class="p">(</span><span class="nv">$LookBack</span><span class="p">).</span><span class="py">AddDays</span><span class="p">(</span><span class="mf">-1</span><span class="p">).</span><span class="py">ToString</span><span class="p">(</span><span class="s1">&#39;yyyy-MM&#39;</span><span class="p">))</span><span class="s2">&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nv">$until</span> <span class="p">=</span> <span class="s2">&#34;</span><span class="p">$((</span><span class="nb">Get-Date</span><span class="p">).</span><span class="py">AddMonths</span><span class="p">(</span><span class="mf">1</span><span class="p">).</span><span class="py">AddDays</span><span class="p">(</span><span class="mf">-1</span><span class="p">).</span><span class="py">ToString</span><span class="p">(</span><span class="s1">&#39;yyyy-MM&#39;</span><span class="p">))</span><span class="s2">&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c"># $contributors =</span>
</span></span><span class="line"><span class="cl">    <span class="nv">$stats</span> <span class="p">=</span> <span class="p">&amp;</span><span class="n">git</span> <span class="n">log</span> <span class="p">-</span><span class="n">-date</span><span class="p">=</span><span class="s2">&#34;format-local:%Y-%m&#34;</span> <span class="p">-</span><span class="n">-pretty</span><span class="p">=</span><span class="n">format</span><span class="err">:</span><span class="s2">&#34;%ad %ae&#34;</span> <span class="p">-</span><span class="n">-since</span><span class="p">=</span><span class="s2">&#34;</span><span class="nv">$since</span><span class="s2">&#34;</span> <span class="p">-</span><span class="n">-until</span><span class="p">=</span><span class="s2">&#34;</span><span class="nv">$until</span><span class="s2">&#34;</span> <span class="p">|</span>
</span></span><span class="line"><span class="cl">    <span class="nb">ConvertFrom-Csv</span> <span class="n">-Delimiter</span> <span class="s1">&#39; &#39;</span> <span class="n">-Header</span> <span class="s1">&#39;month&#39;</span><span class="p">,</span> <span class="s1">&#39;contributor&#39;</span> <span class="p">|</span>
</span></span><span class="line"><span class="cl">    <span class="nb">Sort-Object</span> <span class="n">-Property</span> <span class="s1">&#39;month&#39;</span><span class="p">,</span> <span class="s1">&#39;contributor&#39;</span> <span class="n">-Descending</span> <span class="n">-Unique</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nv">$report</span> <span class="p">=</span> <span class="nv">$stats</span> <span class="p">|</span> <span class="nb">Group-Object</span> <span class="n">-Property</span> <span class="s1">&#39;month&#39;</span> <span class="p">|</span> <span class="nb">ForEach-Object</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="p">[</span><span class="no">pscustomobject</span><span class="p">]</span><span class="vm">@</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">month</span>            <span class="p">=</span> <span class="nv">$_</span><span class="p">.</span><span class="py">Name</span>
</span></span><span class="line"><span class="cl">            <span class="n">ContributorCount</span> <span class="p">=</span> <span class="nv">$_</span><span class="p">.</span><span class="py">Count</span>
</span></span><span class="line"><span class="cl">            <span class="n">approxCost</span>       <span class="p">=</span> <span class="p">(</span><span class="nv">$_</span><span class="p">.</span><span class="py">Count</span> <span class="p">*</span> <span class="nv">$DatadogPerContributorPricing</span><span class="p">).</span><span class="py">ToString</span><span class="p">(</span><span class="s1">&#39;C0&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nb">Write-Host</span> <span class="s1">&#39;==== Pricing Consideration for Observability on Repo Based on Contributors Per Month ====&#39;</span> <span class="n">-ForegroundColor</span> <span class="n">Green</span>
</span></span><span class="line"><span class="cl">    <span class="nb">Write-Host</span> <span class="s2">&#34;</span><span class="p">$(</span><span class="nv">$report</span> <span class="p">|</span> <span class="nb">Format-Table</span> <span class="n">-AutoSize</span> <span class="n">-Wrap</span> <span class="p">|</span> <span class="nb">Out-String</span><span class="p">)</span><span class="s2">&#34;</span> <span class="n">-ForegroundColor</span> <span class="n">DarkGray</span>
</span></span></code></pre></td></tr></table>
</div>
</div></div>
    </div>
  </div>

        ]]>
    <a href="https://brid.gy/publish/twitter"></a>
    <data class="p-bridgy-omit-link" value="false"></data>
    </description>
</item>
</channel>
</rss>
