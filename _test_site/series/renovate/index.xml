<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0" xmlns:dc='http://purl.org/dc/elements/1.1/'>
    <channel>
        <title>Renovate - Series - sheldonhull.com</title>
        <link>https://www.sheldonhull.com/series/renovate/</link>
        <description>Renovate - Series - sheldonhull.com</description>
        <generator>Hugo -- gohugo.io</generator><language>en</language><copyright>This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.</copyright><lastBuildDate>Wed, 12 May 2021 13:10:02 -0500</lastBuildDate><atom:link href="https://www.sheldonhull.com/series/renovate/" rel="self" type="application/rss+xml" />

<item>
    <title>
        Azure Devops PR Automation Requires Generic Contribute
    </title>
    <link>
        https://www.sheldonhull.com/azure-devops-pr-automation-requires-generic-contribute/
    </link>
    <pubDate>
        Wed, 12 May 2021 13:10:02 -0500
    </pubDate>
    
    
    <guid>
        https://www.sheldonhull.com/azure-devops-pr-automation-requires-generic-contribute/
    </guid>
    <description>
        <![CDATA[
        
        
        
            
        
        <p>Big fan of renovate for terraform dependency management.</p>
<p>Ran into some complications with restarting an onboarding with Whitesource Renovate in Azure DevOps Repos and the Azure Pipeline automation.
I&rsquo;ve run into this before, so logging this for my sanity.</p>
<ul>
<li>If you failed to onboard with Azure DevOps, you can&rsquo;t rename the PR like in GitHub to simplify restarting the onboarding process.</li>
<li>Instead, delete the <code>renovate.json</code> file and commit to your default branch.</li>
<li>Then re-add and get the <code>renovate.json</code> committed back to your default branch.</li>
<li>Run your Azure DevOps Pipeline to trigger the dependency assessment.</li>
<li>If you didn&rsquo;t add the project build service account to your repo with <code>Contribute</code>, <code>Contribute to Pull Requests</code>, <code>Force Push</code> (to allow force update of branches it creates), and <code>Create Tag</code>.</li>
</ul>
<div
    class="details admonition Tip
      open
    "
  >
    <div class="details-summary admonition-title">
      <i
        class="icon fas fa-pencil-alt fa-fw"
      ></i>
      Where do you add the permissions for build?
      <i class="details-icon fas fa-angle-right fa-fw"></i>
    </div>
    <div class="details-content">
      <div class="admonition-content"><p>Go to your repository security settings (in this case I&rsquo;m adding to all to simplify, but you can do on a repo by repo basis if you enjoy tedium):</p>
<p><code>https://dev.azure.com/MYORG/MYPROJECT/_settings/repositories?_a=permissions</code></p>
<p>Then in the search type your project name and you should see a <code>PROJECTNAME\Build Service (PROJECTNAME)</code> show up.</p>
<p>If you are using a custom service account with on-premise agents instead of hosted, then adjust your approach accordingly.</p>
</div>
    </div>
  </div>

        ]]>
    <a href="https://brid.gy/publish/twitter"></a>
    <data class="p-bridgy-omit-link" value="false"></data>
    </description>
</item>


<item>
    <title>
        Leverage Renovate for Easy Dependency Updates
    </title>
    <link>
        https://www.sheldonhull.com/leverage-renovate-for-easy-dependency-updates/
    </link>
    <pubDate>
        Thu, 14 Jan 2021 02:42:20 &#43;0000
    </pubDate>
    
    
    <guid>
        https://www.sheldonhull.com/leverage-renovate-for-easy-dependency-updates/
    </guid>
    <description>
        <![CDATA[
        
        
        
            
        
        <div
    class="details admonition Note
      open
    "
  >
    <div class="details-summary admonition-title">
      <i
        class="icon fas fa-pencil-alt fa-fw"
      ></i>
      Update 2021-06-30
      <i class="details-icon fas fa-angle-right fa-fw"></i>
    </div>
    <div class="details-content">
      <div class="admonition-content"><p>Added example from renovate documentation with some notes on the Azure DevOps Pipeline to leverage their free renovate service.
GitHub users benefit from the Renovate app, but Azure Pipelines should use an Azure Pipeline definition.</p>
<p>Follow the instructions from the <code>Renovate Me</code> task linked in resources, and ensure the appropriate rights are granted for the build service to manage branches and pull requests.</p>
</div>
    </div>
  </div>
<p>Renovate is a great tool to know about.
For Go, you can keep modules updated automatically, but still leverage a pull request review process to allow automated checks to run before allowing the update.</p>
<p>This is particularly useful with Terraform dependencies, which I consider notoriously difficult to keep updated.
Instead of needing to use ranges for modules, you can start specifying exact versions and this GitHub app will automatically check for updates periodically and submit version bumps.</p>
<p>Why? You can have a Terraform plan previewed and checked for any errors on a new version update with no work.
This means your blast radius on updates would be reduced as you are staying up to date and previewing each update as it&rsquo;s available.</p>
<p>No more 5 months of updates and figuring out what went wrong üòÅ</p>
<p>Here&rsquo;s an example json config that shows how to allow automerging, while respecting minor/major version updates not enabling automerge.</p>
<p>Note that you&rsquo;d want to install the auto-approver app they document in the marketplace if you have pull request reviews required.</p>
<p>In addition, if you use <code>CODEOWNERS</code> file, this will still block automerge.
Consider removing that if you aren&rsquo;t really leveraging it.</p>
<script src="https://gist.github.com/sheldonhull/f36ea328a2167e93a7015906beb08bbe.js"></script>

<h2 id="resources" class="headerLink">
    <a href="#resources" class="header-mark"></a>Resources</h2><ul>
<li><a href="https://marketplace.visualstudio.com/items?itemName=jyc.vsts-extensions-renovate-me" target="_blank" rel="noopener noreferrer">Renovate Me Azure DevOps Task</a></li>
</ul>

        ]]>
    <a href="https://brid.gy/publish/twitter"></a>
    <data class="p-bridgy-omit-link" value="false"></data>
    </description>
</item>
</channel>
</rss>
